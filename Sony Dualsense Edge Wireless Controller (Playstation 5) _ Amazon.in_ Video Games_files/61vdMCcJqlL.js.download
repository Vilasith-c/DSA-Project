'use strict';mix_d("SBXGwentPHDCards__lifestyle-image-v4-creative-desktop-dp:lifestyle-image-v4-creative-desktop-dp__qDZ5t0Ow","exports @c/remote-operations tslib @c/pagemarker @c/dom @c/logger @c/aui-utils @c/metrics @c/aui-feature-detect @p/A @c/browser-operations @p/a-ajax @c/aui-modal @c/scoped-dom @c/aui-untrusted-ajax".split(" "),function(Oa,pb,w,qb,sa,Pa,Qa,L,rb,sb,ta,tb,ub,vb,wb){function N(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function O(a,c){return function(b){b=
x(a,b);return c?c(b):b}}function Ra(a,c,b,e){c?(u("Send"+a+"Success"),b&&u("Send"+a+"Success_"+b),e&&u("Send"+a+"Success_"+e)):(u("Send"+a+"Failure"),b&&u("Send"+a+"Failure_"+b),e&&u("Send"+a+"Failure_"+e))}function Sa(a){return Array.isArray(a)?a.map(function(c){return w.__assign(w.__assign({},c),{width:0,height:0})}):{url:a.url,width:0,height:0}}function xb(a){a.getElements('[data-mix-operations~="dare-adb--countdown"]').forEach(function(c){var b,e,d,f,h=null===(e=null===(b=c.parentElement)||void 0===
b?void 0:b.parentElement)||void 0===e?void 0:e.dataset.timestamp;if(h){var g=null===(f=null===(d=c.parentElement)||void 0===d?void 0:d.parentElement)||void 0===f?void 0:f.dataset.template;if(g){var l=(new Date(h)).getTime();b=function(){var m,n=(new Date).getTime();n=Math.ceil((l-n)/1E3);if(0>n&&"undefined"!==typeof k)clearInterval(k),n=null===(m=c.parentElement)||void 0===m?void 0:m.parentElement,(null===n||void 0===n?0:n.nextElementSibling)&&n.remove();else{m=[];var p=Math.floor(n/3600%24);0<=p&&
m.push(("0"+p).slice(-2));m.push(("0"+Math.floor(n/60%60)).slice(-2));m.push(("0"+Math.floor(n%60)).slice(-2));c.innerText=g.replace(g,m.join(":"))}};b();var k=setInterval(b,1E3)}else a.log("no template string for automated deal badge countdown","WARN")}else a.log("no timestamp for automated deal badge countdown","WARN")})}function yb(a){a.getElement&&a.getElements&&a.getElements('[data-dare~="call-to-action"]').forEach(function(c){var b,e,d,f=a.getElement('[data-dare~="call-to-action--fallback"]',
null!==(b=c.parentElement)&&void 0!==b?b:void 0),h=a.getElement(".a-truncate",c)||a.getElement("span[data-dare-max-rows]",c);b=a.getElement(".a-truncate-full",c)||a.getElement('span[class*="_truncatedText_"]',c);h&&b&&(b.clientHeight>h.clientHeight&&f?(f.style.display="block",null===(e=c.parentElement)||void 0===e?void 0:e.removeChild(c)):(f=a.getElement('[data-dare~="call-to-action--chevron"]',c))&&!b.hasAttribute("data-dare-chevron")&&(c=b.innerText.split(" "),e=c.pop(),f=f.innerHTML,c="<span>".concat(c.join(" "),
" </span><span>").concat(null===(d=null!==e&&void 0!==e?e:"")||void 0===d?void 0:d.trim(),"&nbsp;").concat(f,"</span>"),b.innerHTML=c,b.setAttribute("data-dare-chevron","true")))})}function ua(a){return P&&P.AUI_BUILD_DATE?!0:(a.log("AUI P not found","ERROR"),!1)}function zb(a,c){var b=this;ua(a)&&P.when("A").execute(function(e){var d=e.capabilities.mobile;P.when(d?"a-secondary-view":"a-modal").execute(function(f){return ma(b,void 0,void 0,function(){var h,g=this;return na(this,function(l){h=function(k,
m){return ma(g,void 0,void 0,function(){var n,p,t,q,v,r,z,A,D,H;return na(this,function(E){switch(E.label){case 0:n=k.currentTarget;if(!(n instanceof HTMLElement))return a.log("energy-efficiency-".concat(m," click target not an html element"),"WARN"),[2];if(f.get(n))return[2];if(n.dataset.dareEeModalContent)try{p=JSON.parse(n.dataset.dareEeModalContent)}catch(Z){return Z instanceof Error&&a.log(Z,"ERROR"),a.log("failed to parse eel payload","ERROR"),[2]}a:{var C=p;if("object"!==typeof C)var I=!1;
else{I=0;for(C=[Object.getOwnPropertyDescriptor(C,"closeButtonLabel"),Object.getOwnPropertyDescriptor(C,"ficheImageUrl"),Object.getOwnPropertyDescriptor(C,"ficheTitle"),Object.getOwnPropertyDescriptor(C,"id"),Object.getOwnPropertyDescriptor(C,"labelImageUrl"),Object.getOwnPropertyDescriptor(C,"labelTitle"),Object.getOwnPropertyDescriptor(C,"modalTitle")];I<C.length;I++){var M=C[I];if("string"!==typeof(null===M||void 0===M?void 0:M.value)){I=!1;break a}}I=!0}}if(!I)return a.log("energy-efficiency-".concat(m,
" data is invalid: ").concat(n.dataset.content),"WARN"),[2];"fiche"!==m||p.ficheImageUrl&&p.ficheTitle||a.log("energy-efficiency-".concat(m," payload is missing expected fiche data: ").concat(JSON.stringify(p)),"WARN");E.label=1;case 1:return E.trys.push([1,5,,6]),t="fiche"===m?p.ficheTitle:p.labelTitle,q="fiche"===m?p.ficheImageUrl:p.labelImageUrl,v=a.createElement("img"),v.setAttribute("alt",null!==t&&void 0!==t?t:""),v.setAttribute("src",null!==q&&void 0!==q?q:""),null!==c&&void 0!==c&&c.generateModalContent?
[4,c.generateModalContent(oa(oa({},p),{activeTab:m}))]:[3,3];case 2:return z=E.sent(),[3,4];case 3:z=null,E.label=4;case 4:return r=z,A=f.create(n,{closeButtonLabel:p.closeButtonLabel,header:d?void 0:p.modalTitle,inlineContent:d||!r?v.outerHTML:r.outerHTML,popoverLabel:null!==(H=d?t:p.modalTitle)&&void 0!==H?H:"",width:d?void 0:"800"}),A.show(),[3,6];case 5:return D=E.sent(),D instanceof Error&&a.log(D,"ERROR"),a.log("failed to create eel popover","ERROR"),[3,6];case 6:return[2]}})})};a.addEventListener("dare-ee--label-click",
"click",function(k){return ma(g,void 0,void 0,function(){return na(this,function(m){switch(m.label){case 0:return[4,h(k,"label")];case 1:return m.sent(),[2]}})})});a.addEventListener("dare-ee--fiche-click","click",function(k){return ma(g,void 0,void 0,function(){return na(this,function(m){switch(m.label){case 0:return[4,h(k,"fiche")];case 1:return m.sent(),[2]}})})});return[2]})})})})}function Ab(a){function c(d){try{fetch(d,{method:"GET",mode:"no-cors",cache:"no-store"}).catch(function(f){a.log("Network error when invoking AAX Click URL. Error: ".concat(f),
"WARN")})}catch(f){a.log("Failed to execute fetch() when invoking AAX Click URL. Error: ".concat(f),"WARN")}}var b=this;if(ua(a)){var e;a.addEventListener("dare-rcc--click","click",function(d){return Bb(b,void 0,void 0,function(){var f,h,g,l,k;return Cb(this,function(m){f=d.currentTarget;f instanceof HTMLElement||a.log("Rufus conversation trigger is not an HTML element","WARN");h=null===f||void 0===f?void 0:f.dataset.query;h||(a.log("Rufus conversation trigger lacks query","ERROR"),h="");g=null===
f||void 0===f?void 0:f.dataset.asinid;g||(a.log("Rufus conversation trigger lacks ASIN ID","ERROR"),g="");l=null===f||void 0===f?void 0:f.dataset.aaxclickurl;l&&""!==l||(a.log("Rufus conversation trigger lacks AAX Click URL","ERROR"),l="");k=null===f||void 0===f?void 0:f.dataset.percolaterequestid;k||(a.log("Rufus conversation trigger lacks percolateRequestId","ERROR"),k=Math.random().toString(36).substr(2,10));if("undefined"!==typeof e)try{e.dispatchEvent({detail:{action:{actionId:Db.SPARKLE_RELATED_QUESTION,
actionType:Eb.INVOKE_NILE_BACKEND_API_WITH_ASIN,payload:{qis:Fb.NileAdsSparkleRelatedQuestion,searchRequestId:k,triggerRequest:Gb.SPARKLE_RELATED_QUESTION,inContextAsin:g,query:h}}},type:Hb["savx:deeplinking"]}),""!==l&&c(l)}catch(n){n instanceof Error&&a.log(n,"ERROR"),a.log("Failed to dispatch Rufus conversation mash event","ERROR")}else a.log("Failed to dispatch event due to missing MASH");return[2]})})});P.when("mash").execute(function(d){e=d})}}function Ib(a,c){var b;if(!a.getElement)return{};
a=a.getElement('[data-attributelevel="CAMPAIGN"]');var e=null!==(b=null===a||void 0===a?void 0:a.dataset)&&void 0!==b?b:{};b=e.anonymizedrequestid;a=e.campaignid;var d=e.customerid,f=e.slotname,h=e.marketplaceid;e=e.sessionid;var g={};c===X["basebe.Clicks.6"]?g={anonymizedRequestId:b,campaignId:a,customerId:d,market:h,slotName:f,sessionId:e}:c===X["basebe.Impressions.8"]&&(g={anonymizedRequestId:b,campaignId:a,customerId:d,market:h,slotName:f,sessionId:e});return g}function Jb(a,c){if(Array.isArray(c)||
"object"!==typeof c)return!1;switch(a){case X["basebe.Clicks.6"]:return Kb(c);case X["basebe.Impressions.8"]:return Lb(c);default:return!1}}function Kb(a){return"anonymizedRequestId el index type asin slotName campaignId idType marker lob sessionId customerId".split(" ").every(function(c){var b;c=null===(b=Object.getOwnPropertyDescriptor(a,c))||void 0===b?void 0:b.value;return null===c||["undefined","string"].includes(typeof c)})}function Lb(a){var c;if(!["weblabs","aiGenAssetUrls"].every(function(e){var d;
e=null===(d=Object.getOwnPropertyDescriptor(a,e))||void 0===d?void 0:d.value;return null===e||void 0===e||Array.isArray(e)&&e.every(function(f){return"string"===typeof f})}))return!1;var b=null===(c=Object.getOwnPropertyDescriptor(a,"asins"))||void 0===c?void 0:c.value;return null===b||void 0===b||Array.isArray(b)&&b.every(function(e){return Object.entries({id:"string",prime:"boolean",price:"boolean",savings:"boolean",rating:"string",badge:"string"}).every(function(d){var f,h=d[1];d=null===(f=Object.getOwnPropertyDescriptor(e,
d[0]))||void 0===f?void 0:f.value;return null===d||["undefined",h].includes(typeof d)})})?Object.entries({anonymizedRequestId:"string",creativeVariation:"string",creativeType:"string",version:"string",viewport:"string",slotName:"string",campaignId:"string",idType:"string",market:"string",lob:"string",sessionId:"string",customerId:"string",storeBannerUrl:"string",customImageUrl:"string",adWidth:"number",adHeight:"number",viewportWidth:"number",viewportHeight:"number",isAiGen:"boolean"}).every(function(e){var d,
f=e[1];e=null===(d=Object.getOwnPropertyDescriptor(a,e[0]))||void 0===d?void 0:d.value;return null===e||["undefined",f].includes(typeof e)}):!1}function Mb(a){var c,b=null!==(c=null===a||void 0===a?void 0:a.strategy)&&void 0!==c?c:new Nb;a=null===a||void 0===a?void 0:a.operations;try{xb(b)}catch(l){l instanceof Error&&b.log(l,"ERROR"),b.log("failed to enable automated deal badges","ERROR")}try{yb(b)}catch(l){l instanceof Error&&b.log(l,"ERROR"),b.log("failed to enable calls to action","ERROR")}try{var e=
b.getElements('[data-dare="clamped-text"]');if(e.length&&!("-webkit-line-clamp"in e[0].style||"lineClamp"in e[0].style)){for(c=0;c<e.length;c++){var d=e[c],f=parseInt(d.getAttribute("data-dare-max-rows")||"1"),h=Math.ceil(parseFloat(getComputedStyle(d).lineHeight||"1.3em")),g=f*h;if(!(d.scrollHeight<=g)){for(;d.scrollHeight>g;)d.innerText=d.innerText.slice(0,-1);d.innerText=d.innerText.slice(0,-3);d.innerText+="\u2026"}}b.log("polyfill applied to clamped text","WARN")}}catch(l){l instanceof Error&&
b.log(l,"ERROR"),b.log("failed to enable clamped text","ERROR")}try{zb(b,{generateModalContent:null===a||void 0===a?void 0:a.generateEnergyEfficiencyModalContent})}catch(l){l instanceof Error&&b.log(l,"ERROR"),b.log("failed to enable energy efficiency buttons","ERROR")}try{Ab(b)}catch(l){l instanceof Error&&b.log(l,"ERROR"),b.log("failed to enable rufus conversation cue","ERROR")}}var va=N(qb),F=N(sa),J=N(Pa),Ob=N(Qa),pa=N(L),Pb=N(rb),Y=N(sb),wa=N(ta),Qb=N(tb),Ta=N(ub),xa=N(vb),Rb=N(wb),R,ia;(function(a){a.Cornerstone=
"CSTONE";a.Axiom="AXIOM"})(ia||(ia={}));var Sb=(R={},R.e="basebe.ClientErrors.5",R.i="basebe.Impressions.8",R.c="basebe.Clicks.6",R.s="basebe.Swipes.6",R.v="basebe.Viewabilities.6",R.vc="basebe.VisualCompleteness.8",R.ss="basebe.slideshow.2",R.ia="basebe.ImpressionsV2.4",R.iv2="basebe.ImpressionsV3.2",R),Ua=function(a,c){return"matches"in a?a.matches(c):"msMatchesSelector"in a?a.msMatchesSelector(c):"webkitMatchesSelector"in a?a.webkitMatchesSelector(c):0<=B(c,y().ownerDocument.body).indexOf(a)},
y=function(a,c){c=c||F["default"].cardRoot;return!a||Ua(c,a)?c:c.querySelector(a)},B=function(a,c){return Array.prototype.slice.call((c||F["default"].cardRoot).querySelectorAll(a))},x=function(a,c){return(c=y("["+a+"]",c))?c.getAttribute(a):null},Va=function(a,c){a:{for(var b="["+a+"]";c&&c!==F["default"].cardRoot;){if(Ua(c,b))break a;c=c.parentElement}c=null}return c?c.getAttribute(a):null},Wa=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};
a=S();return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},S=function(){return y().ownerDocument.defaultView},Xa=function(a,c){var b=S(),e,d=function(){e||(e=b.setTimeout(a,c))};d.cancel=function(){b.clearTimeout(e);e=0};return d},qa=function(a,c,b){var e=(b||{}).ms||25,d=(b||{}).el||S(),f=Ob["default"].throttle(c,e);d.addEventListener(a,f);return function(){d.removeEventListener(a,f)}},T=function(a,c){J["default"].log(a,"ERROR",c||"SBX_GWENT")},Ya=function(a){var c;a=/\?([^#]+)/.exec(a);
if(!a)return[];a=a[1].split("&");var b=null;try{for(var e=w.__values(a),d=e.next();!d.done;d=e.next()){var f=d.value;if(0===f.indexOf("ref_=")){b=f;break}}}catch(g){var h={error:g}}finally{try{d&&!d.done&&(c=e.return)&&c.call(e)}finally{if(h)throw h.error;}}return b?(h=b.split("=").pop()||"")?h.split("_"):[]:[]},Za=function(a,c,b){var e={};if(5<b.length){e.el=b.pop()||null;a:{var d;try{for(var f=w.__values(b),h=f.next();!h.done;h=f.next()){var g=h.value;if(/^\d+$/.test(g)){var l=g;break a}}}catch(m){var k=
{error:m}}finally{try{h&&!h.done&&(d=f.return)&&d.call(f)}finally{if(k)throw k.error;}}l=null}e.index=l;e.asin=Va("data-asin",c);e.type=Va("data-avar",c)}a.c(e,c)},Tb=function(a,c){var b=Ya(c.href);Za(a,c,b)},Ub=function(a,c){var b=S(),e=function(d){2!==d.button&&(Tb(a,c),d.metaKey||d.altKey||d.shiftKey||d.ctrlKey||1===d.button||"_blank"===c.target||(d.preventDefault(),b.setTimeout(function(){b.open(c.href,c.target||"_top")},50)))};c.addEventListener("click",e);c.addEventListener("auxclick",e)},$a=
function(a,c,b){var e=y("[data-active]"),d=(null===e||void 0===e?void 0:e.dataset)||{};e=d.paginationId;d=d.index;c.c({el:"sb-slideshow-arrow",type:a,asin:void 0===e?null:e,index:void 0===d?null:d},b)},Wb=function(a,c){B("[href]",c).filter(function(b){return!b.classList.contains("a-carousel-button")}).forEach(function(b){Ub(a,b)});B('[data-mix-operations="dare-rcc--click"]',c).forEach(function(b){b.addEventListener("click",function(){return a.c({el:"rufus-conversation-cue"},c)})});B(".amazon-follow",
c).forEach(function(b){b.addEventListener("click",function(){var e=Ya("?&ref_="+b.getAttribute("data-ref"));Za(a,b,e)})});B('[data-mix-operations="handleNext"]').forEach(function(b){b.addEventListener("click",function(){$a("next",a,c)})});B('[data-mix-operations="handlePrev"]').forEach(function(b){b.addEventListener("click",function(){$a("prev",a,c)})});B('[data-mix-operations="handlePaginationClick"]').forEach(function(b){b.addEventListener("click",function(){var e=b.dataset||{},d=e.paginationId;
e=e.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===e?null:e,asin:void 0===d?null:d},c)})});B('[data-mix-operations="hotSpotClick"]').forEach(function(b){b.addEventListener("click",function(){var e,d=(b.dataset||{}).asinid;d=void 0===d?null:d;var f=b.style,h=f.left;f=f.top;var g=y('[data-asin="'+d+'"]')||void 0;g=((null===(e=y("[data-asinindex]",g))||void 0===e?void 0:e.dataset)||{}).asinindex;e=void 0===g?null:g;h={x:parseFloat(h),y:parseFloat(f)};h=JSON.stringify(h);d=w.__assign({type:h},
{asin:d,el:"hotspot",index:e});a.c(d,b)})});Vb(a)},Vb=function(a){var c=y('[class*="seeProducts"]'),b=y('[data-mix-operations="expandHandler"]'),e=B('[class*="sidebarButton"]'),d=[c,b].concat(e);if(d.length){var f=[];d.forEach(function(g){if(g){var l=g instanceof HTMLButtonElement&&!x("data-index",g)?"seeProducts":g instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",k={asin:g.dataset.asinid||null,index:g.dataset.index||null,el:l};l=function(){if(g){var m=w.__assign({type:"collapsed"},
k);a.c(m,g);h(d,f)}};f.push(l);g.addEventListener("click",l)}});var h=function(g,l){g.forEach(function(k,m){k&&k.removeEventListener("click",l[m])})}}},ya=O("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),za=O("data-var",function(a){y('[data-mix-operations="dare-rcc--click"]')&&(a=(a||"")+"-rufusConversationCue");return a}),Xb=O("data-rid"),Yb=O("data-cid"),Zb=O("data-iid"),ab=O("data-aid"),bb=O("data-aidx"),$b=O("data-idt",function(a){switch(a){case ia.Axiom:return ia.Axiom;default:return ia.Cornerstone}}),
ra=O("data-rctx",function(a){return a?JSON.parse(a):{sid:"",cid:"",mid:"",aigen:null}}),Aa=O("data-wl",function(a){return a?a.split(","):[]}),ac=O("data-slot"),Ba=O("data-ts"),Ca=function(){var a=S();return a.innerWidth+"x"+a.innerHeight},Da=function(a){return(a=a||F["default"].cardRoot)?(a=a.getBoundingClientRect(),{width:a.width,height:a.height}):{width:0,height:0}},ca=function(a,c){var b;c=c||F["default"].cardRoot;return(a=null===(b=c.querySelector('[class*="'+a+'"]'))||void 0===b?void 0:b.getAttribute("src"))?
a:null},Ea=function(a){return{id:x("data-asin",a),prime:!!y(".a-icon-prime",a),price:!!y(".a-price",a),savings:!!y('.a-price[data-a-strike="true"]',a),rating:x("data-rt",a),badge:x("data-deal",a)}},ja=0,Fa=0,cb=!1,U=window.P,db=Y["default"].capabilities&&Y["default"].capabilities.isAmazonApp,bc=function(){return U?new Promise(function(a){U.when("mash").execute("sb-viewability",function(c){var b,e;null!==(e=null===(b=c.appCX)||void 0===b?void 0:b.uiOrchestrator)&&void 0!==e&&e.getObstructions?c.appCX.uiOrchestrator.getObstructions({successCallback:function(){u("NewMashApiAvailable");
a(!0)},failCallback:function(){u("NewMashApiNotAvailable");a(!1)}}):(u("NewMashApiNotAvailable"),a(!1))})}):(u("NewMashApiNotAvailable"),Promise.resolve(!1))},cc=function(a){return db&&"T1"===x("data-vcpmfullnativetreatment",a)?bc().then(function(c){return c}):Promise.resolve(!1)},da={},Ha=function(a,c,b){void 0===b&&(b=!1);var e=a.getBoundingClientRect(),d=e.width*e.height,f=x("data-viewpixel",a);if(d){e=d=dc(e,d)/d;var h=x("data-vcpmtreatment",a)||"C";if(.5<=e&&"T1"===h){var g,l,k,m=a.getBoundingClientRect(),
n=x("data-device",a)||"";h=0;var p=Math.max(0,m.left),t=Math.min(window.innerWidth,m.right),q=Math.max(0,m.top);m=Math.min(window.innerHeight,m.bottom);var v=Math.max(0,t-p);var r=Math.max(0,m-q);if(0===v||0===r)a=0;else{var z=w.__read([Math.ceil(r/("mobile"===n?20:30)),Math.ceil(v/("mobile"===n?30:50))],2);n=z[0];z=z[1];for(var A=[],D=0;D<n;D++)for(var H=0;H<z;H++){var E=p+v*H/z,C=q+r*D/n;E>=p&&E<=t&&C>=q&&C<=m&&A.push([E,C])}try{for(var I=w.__values(A),M=I.next();!M.done;M=I.next()){var Z=w.__read(M.value,
2);E=Z[0];C=Z[1];var ea=y().ownerDocument.elementsFromPoint(E,C);try{for(var V=(l=void 0,w.__values(ea)),G=V.next();!G.done;G=V.next()){var aa=G.value;if(aa instanceof HTMLElement){if(aa===a||a.contains(aa))break;if(aa!==document.body&&"HTML"!==aa.tagName){var W=window.getComputedStyle(aa);if(!("none"===W.display||"hidden"===W.visibility||"0"===W.opacity||"none"===W.pointerEvents||.7>parseFloat(W.opacity))){var fa=W.backgroundColor;if("transparent"!==fa&&"rgba(0, 0, 0, 0)"!==fa&&""!==fa||W.backgroundImage.includes("url")){h++;
break}}}}}}catch(Ga){l={error:Ga}}finally{try{G&&!G.done&&(k=V.return)&&k.call(V)}finally{if(l)throw l.error;}}}}catch(Ga){var K={error:Ga}}finally{try{M&&!M.done&&(g=I.return)&&g.call(I)}finally{if(K)throw K.error;}}a=0===A.length?0:1-h/A.length}.5<=e&&(.5>d*a?u("LossOfImpresionFromObstruction"):u("NoLossOfImpressionFromObstruction"));e=d*a}.5<=e?u("PercentageInViewPortAbove50"):u("PercentageInViewPortBelow50");if(b)if(.5<=e)if(c)c();else return!0;else if(c)c.cancel();else return!0;else if(f)if(da[f]||
(da[f]={percentageViewed:.5,startTimeInView:0}),b=da[f],b.percentageViewed=e,.5<=e){if(0===b.startTimeInView||1E3<Date.now()-b.startTimeInView)b.startTimeInView=Date.now();if(c)c();else return!0}else if(b.startTimeInView=0,c)c.cancel();else return!0}},ec=function(){return new Promise(function(a){if(U)try{U.when("MShopChrome").execute("sb-viewability",function(c){c&&"function"===typeof c.getBottomBarsHeight?c.getBottomBarsHeight({successCallback:function(b){u("SuccessToGetBottomBarHeight");"number"===
typeof b.visibleHeight?a(b.visibleHeight):a(0)},failCallback:function(){u("FailureToGetBottomBarHeight");J["default"].log("getBottomBarsHeight failed","ERROR","sbViewability");a(0)}}):(u("GetBottomBarsHeightNotAvailable"),a(0))})}catch(c){J["default"].log("P.when execution failed to get bottom bar height: "+c,"ERROR","sbViewability"),a(0)}else a(0)})},fc=function(){return new Promise(function(a){if(U)try{U.when("MShopChrome").execute("sb-viewability",function(c){c&&"function"===typeof c.getChromeInfo?
c.getChromeInfo({successCallback:function(b){u("SuccessToGetTopBarHeight");if(b.isTransparentNav){if(screen.orientation&&"landscape-primary"===screen.orientation.type&&"number"===typeof b.landscapeChromeHeight){a(b.landscapeChromeHeight);return}if(screen.orientation&&"portrait-primary"===screen.orientation.type&&"number"===typeof b.portraitChromeHeight){a(b.portraitChromeHeight);return}}a(0)},failCallback:function(){u("FailureToGetTopBarHeight");J["default"].log("getChromeInfo failed","ERROR","sbViewability");
a(0)}}):(u("GetChromeInfoNotAvailable"),a(0))})}catch(c){J["default"].log("P.when execution failed to get top bar height: "+c,"ERROR","sbViewability"),a(0)}else a(0)})},gc=function(a,c,b){return new Promise(function(e){try{null===U||void 0===U?void 0:U.when("mash").execute("sb-viewability",function(d){var f,h,g;null===(g=null===(h=null===(f=d.appCX)||void 0===f?void 0:f.uiOrchestrator)||void 0===h?void 0:h.getObstructions)||void 0===g?void 0:g.call(h,{successCallback:function(k){eb(k,a,b,c)},failCallback:function(){return J["default"].log("getObstructions failed for new MASH API",
"ERROR","sbViewability")}});var l=function(k){eb(k.detail,a,b,c)};b&&(d.addEventListener("obstructionsChanged",l),e(function(){return d.removeEventListener("obstructionsChanged",l)}))})}catch(d){J["default"].log("P.when execution failed to get full obstruction: "+d,"ERROR","sbViewability"),e(null)}})},eb=function(a,c,b,e){var d,f,h=a.isFullyObstructed;a=a.boundingBoxes;ja=(null===(d=null===a||void 0===a?void 0:a[0])||void 0===d?void 0:d.height)||0;Fa=(null===(f=null===a||void 0===a?void 0:a[1])||
void 0===f?void 0:f.height)||0;cb=h||!1;null===e||void 0===e?void 0:e(c,b)},gb=function(a,c,b,e,d){b=fb(b,e,window.innerWidth);a=fb(a,c,d);return b*a},dc=function(a,c){var b=a.top,e=a.bottom,d=a.left;a=a.right;var f=S().innerHeight,h=gb(b,e,d,a,Math.max(f,0));if(!U||0>=h)return h;if(cb)return 0;try{c=h/c;var g=gb(b-ja,e-ja,d,a,Math.max(f-Fa-ja,0));.5<=c&&.5>g?u("LossOfImpresionFromNativeObstruction"):u("NoLossOfImpresionFromNativeObstruction");return g}catch(l){return J["default"].log("Error calculating visible area: "+
l,"ERROR","sbViewability"),h}},fb=function(a,c,b){return 0<=a?Math.max(Math.min(b-a,c-a),0):0<c?Math.max(Math.min(Math.min(c,b),c-a),0):0},hb=function(a){var c,b,e=Date.now()-(null===(c=da[a])||void 0===c?NaN:c.startTimeInView);c=null===(b=da[a])||void 0===b?void 0:b.percentageViewed;if(e&&c)if(b="/"===a.substr(-1)?a+"v/":a+"/v/",a=JSON.stringify({v:{def:"iab",event:"VIEWED",p:Math.round(100*da[a].percentageViewed),t:parseFloat((e/1E3).toFixed(3))},programType:"SBC"}),"function"===typeof window.fetch)fetch(b+
encodeURI(a),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:a}).then(function(f){f.ok||0===f.status||J["default"].log(f.status+" "+f.statusText,"ERROR","sbx-ce-vcpm-fetch");u("PixelClientCallSuccess")}).catch(function(f){u("PixelClientCallFailure");J["default"].log(f,"ERROR","sbx-ce-vcpm-fetch")});else{var d=new XMLHttpRequest;d.open("POST",b+encodeURI(a));d.setRequestHeader("Content-Type","application/json");d.onreadystatechange=function(){4===d.readyState&&(200!==
d.status?J["default"].log(d.status+" "+d.statusText,"ERROR","sbx-ce-vcpm-fetch"):u("PixelClientCallSuccess"))};d.onerror=function(){u("PixelClientCallFailure");J["default"].log("XMLHttpRequest error from old browser","ERROR","sbx-ce-vcpm-fetch")};d.send(a)}else e||u("PixelClientCallMissingTimeInView"),c||u("PixelClientCallMissingPercentageInView")},hc=function(){return Promise.all([fc(),ec()]).then(function(a){a=w.__read(a,2);var c=a[1];ja=a[0];Fa=c}).catch(function(a){J["default"].log("Error calculating top and bottom bar height: "+
a,"ERROR","sbViewability")})},ic=function(a,c){var b,e=null!==c&&void 0!==c?c:y(),d=null,f=function(){Ha(e,l)},h=void 0;if("mobile-gateway-wd-atf"===(null===e||void 0===e?void 0:e.dataset.slot)){var g=null===(b=y().ownerDocument)||void 0===b?void 0:b.querySelector('div[cel_widget_id="gwm-window-container"]');g&&(h={el:g})}var l=Xa(function(){var p=x("data-viewpixel",e);p&&(hb(p),p=y("[data-viewpixel]"),null===p||void 0===p?void 0:p.removeAttribute("data-viewpixel"));k();m();n();d&&d();a.v(null,c)},
1E3);ib(e,l).then(function(p){d=p});var k=qa("scroll",f,h),m=qa("resize",f,h),n=qa("click",f,h);f()},ib=function(a,c){return cc(a).then(function(b){if(b)return gc(a,Ha,c);db&&"T1"===x("data-vcpmnativetreatment",a)&&hc();return null})},jc=function(a){if(a)for(var c=function(e){var d=a[e];0===e&&ib(d);e=Xa(function(){var f=x("data-viewpixel",d);f&&(hb(f),null===d||void 0===d?void 0:d.removeAttribute("data-viewpixel"))},1E3);Ha(d,e)},b=0;b<a.length;b++)c(b)},jb=function(a,c){var b=null,e=null;a.addEventListener("touchstart",
function(d){b=d.touches[0].pageX});a.addEventListener("touchmove",function(d){null===b&&(b=d.touches[0].pageX);e=d.touches[0].pageX});a.addEventListener("touchend",function(){null!==b&&null!==e&&c(e-b);b=e=null})},kc=function(a){if(Pb["default"].isSupported("touch")){var c=y("[data-track-swipe]"),b=y("[data-trackswipe]"),e=function(d){var f=Math.abs(d);if(30<f){var h=B("[data-viewpixel]");jc(h);a.s({direction:0>d?"left":"right",length:f})}};c?jb(c,e):b&&jb(b,e)}},lc=function(a,c){var b=Date.now();
c=B("img",c);var e=c.length,d=0,f=function(){++d===e&&a.vc({delay:Date.now()-b})};c.forEach(function(h){null!==x("data-lazy",h)&&null!==x("data-src",h)?h.addEventListener("load",function(){h.src===h.dataset.src&&f()}):h.complete?f():h.addEventListener("load",f)})},mc=function(a){var c=a.campaignId,b=a.idType,e=a.slotName,d=a.market,f={eventV1:{anonymizedRequestId:a.anonymizedRequestId,campaignId:c,slotName:e,idType:b,market:d,customerId:a.customerId,sessionId:a.sessionId,lob:a.lob},eventV2:{campaignId:c,
slotName:e,idType:b,market:d,joinId:a.joinId}},h=function(g,l,k){try{var m=pa["default"],n=m.event,p=w.__assign({},f[l]);if(k)for(var t in k)Object.prototype.hasOwnProperty.call(k,t)&&(p[t]=k[t]);n.call(m,p,"base-be",Sb[g],{ssd:!0})}catch(q){T(q)}};return{i:h.bind(null,"i","eventV1"),v:h.bind(null,"v","eventV1"),vc:h.bind(null,"vc","eventV1"),c:h.bind(null,"c","eventV1"),s:h.bind(null,"s","eventV1"),ss:h.bind(null,"ss","eventV1"),ia:h.bind(null,"ia","eventV1"),iv2:h.bind(null,"iv2","eventV2"),e:function(g){h("e",
"eventV1",g&&{name:g.name,message:g.message,stack:g.stack})}}},kb=function(a){var c=Yb(a);var b=ra(a).mid;c=mc({anonymizedRequestId:Xb(),campaignId:c,idType:$b(a),slotName:ac(),market:b,customerId:null,sessionId:null,lob:"UNKNOWN",joinId:null});var e=S();b=e.innerWidth;e=e.innerHeight;var d=Da(a),f=d.width;d=d.height;var h=ra(a).aigen;c.i({asins:[].map.call(B("[data-asin]",a),Ea),creativeType:ya(),creativeVariation:za(a),version:Ba(a),viewport:Ca(),weblabs:Aa(a),adWidth:Math.round(f),adHeight:Math.round(d),
viewportWidth:Math.round(b),viewportHeight:Math.round(e),storeBannerUrl:ca("storeBanner",a),customImageUrl:ca("lifestyleImage",a),isAiGen:!!h});Wb(c,a);lc(c,a);ic(c,a);kc(c);e=S();b=e.innerWidth;e=e.innerHeight;d=Da(a);f=d.width;d=d.height;h=ra(a).aigen;c.ia&&c.ia({asins:[].map.call(B("[data-asin]",a),Ea),creativeType:ya(),creativeVariation:za(a),version:Ba(a),viewport:Ca(),weblabs:Aa(a),adIndex:bb(a),adId:ab(a),adWidth:Math.round(f),adHeight:Math.round(d),viewportWidth:Math.round(b),viewportHeight:Math.round(e),
storeBannerUrl:ca("storeBanner",a),customImageUrl:ca("lifestyleImage",a),isAiGen:!!h});e=S();b=e.innerWidth;e=e.innerHeight;d=Da(a);f=d.width;d=d.height;h=ra(a).aigen;c.iv2&&c.iv2({asins:[].map.call(B("[data-asin]",a),Ea),creativeType:ya(),creativeVariation:za(a),version:Ba(a),viewport:Ca(),weblabs:Aa(a),adIndex:bb(a),adId:ab(a),adWidth:Math.round(f),adHeight:Math.round(d),viewportWidth:Math.round(b),viewportHeight:Math.round(e),storeBannerUrl:ca("storeBanner",a),customImageUrl:ca("lifestyleImage",
a),isAiGen:!!h})},u=function(a,c){void 0===c&&(c=1);pa["default"].count("sbxGwentClient"+a,c)},Q={log:function(a){var c=S();var b=Zb();(c=b&&c.sbxGwentClient&&"number"===typeof c.sbxGwentClient[b]?Date.now()-c.sbxGwentClient[b]:null)?u(a,c):u("NoPageTime")}},nc=function(a){var c=a.url,b=a.onSuccess,e=a.onError;c||e();Qb["default"].get(c,{success:function(d){d&&"ok"===d.status?b(d):e()},error:e,abort:e})},Ia;(Ia||(Ia={})).adFeedbackHandler="adFeedbackHandler";var oc=function(a,c,b,e,d){try{var f=JSON.parse(a),
h=w.__read(f,6),g=h[0],l=h[1],k=h[2],m=h[3],n=h[4],p=h[5],t=[];Array.isArray(g)?g.forEach(function(v){return t.push({campaignId:b,creativeId:v})}):t.push({campaignId:b,creativeId:g});var q={adCreativeMetaData:{adCreativeId:Array.isArray(g)?g[0]:g,adId:c,adImpressionId:l,adNetwork:"aax",adProgramId:1010,adCreativeDetails:t},adPlacementMetaData:{adElementId:k,pageType:m,pageUrl:n,searchTerms:p,slotName:e,adProgramId:1010}};return d+"?pl="+encodeURIComponent(JSON.stringify(q))}catch(v){return null}},
lb=function(a){var c=wa["default"].setup().define,b=!!x("data-ad-feedback-clicks"),e=!!x("data-ad-feedback-simulate"),d=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",h=!1;b&&c(Ia.adFeedbackHandler,"click",function(){Q.log(f);"AdFeedbackPlaceholderClick"===f&&(h=!0)});a=x("data-ad-feedback");c=x("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){b=x("data-slot");var g=x("data-aid"),l=x("data-cid");a=oc(a,g,l,b,c);nc({url:a,onSuccess:function(k){var m=k.html;
var n=y('[data-id="afb-content"]');n&&m?(n.innerHTML=m,m=n):m=null;if(k=k.script)n=y().ownerDocument.createElement("script"),n.type="text/javascript",n.innerHTML=k,y().appendChild(n);Q.log(d);f="AdFeedbackLinkClick";m&&h&&e&&((k=y("a",m))?(k.click(),k=!0):k=!1,Q.log(k?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){Q.log("AdFeedbackFallback");h&&e&&Q.log("AdFeedbackSimulateClickFail")}})}},ka=function(a,c){var b,e=[];try{for(var d=w.__values(a.split(/[-_]/)),f=
d.next();!f.done;f=d.next()){var h=f.value;e.push(h.charAt(0).toUpperCase()+h.slice(1));if("creativeLevel"===c&&("desktop"===h||"mobile"===h))break}}catch(l){var g={error:l}}finally{try{f&&!f.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return e.join("")},qc=function(a,c,b,e,d,f,h,g,l,k,m){return w.__awaiter(void 0,void 0,void 0,function(){var n,p,t;return w.__generator(this,function(q){switch(q.label){case 0:n=function(){return{adCreativeMetaData:{adCreativeDetails:pc(c,g,l,k,m)},adFeedbackLabelId:a}},
p=function(v){var r=v.baseMessage,z=v.deviceType,A=v.tabletEnv,D=v.slotName;D=w.__read([ka(v.creativeId,"creativeLevel"),ka(D,"slotLevel")],2);v=D[0];D=D[1];u(r);z&&(z=r+"_"+z,A&&(z+="_"+A),u(z));v&&u(r+"_"+v);D&&u(r+"_"+D)},q.label=1;case 1:return q.trys.push([1,3,,4]),[4,b(n)];case 2:return q.sent(),p({baseMessage:"EnableAdFeedbackSuccess",deviceType:e,tabletEnv:d,creativeId:f,slotName:h}),[3,4];case 3:return t=q.sent(),p({baseMessage:"EnableAdFeedbackFailure",deviceType:e,tabletEnv:d,creativeId:f,
slotName:h}),T(t),[3,4];case 4:return[2]}})})},rc=function(a){if(a){var c=a.split(" ");c.map(function(b,e){0<e&&(c[e]=b.substring(3,b.length))});c.pop();c.shift();return c}},pc=function(a,c,b,e,d){var f=[],h=x("data-card-metrics-id")||"",g=x("data-slot")||"";h=w.__read([ka(h,"creativeLevel"),ka(g,"slotLevel")],2);var l=h[0],k=h[1];d&&d()!==a.length&&(a=a.filter(function(m){return y('[data-aid="'+m.adId+'"]')}));a.forEach(function(m,n){var p='[data-aid="'+m.adId+'"]';for(var t=y(p),q=c&&c()||document.body,
v,r=0;(b?r<b.length:0>r)&&!(v=y(p+' div[class*="'+(null===b||void 0===b?void 0:b[r])+'"] img'));r++);v?u("AfImagePresent_"+l):u("AfImageMissing_"+l);p=(null===v||void 0===v?void 0:v.getAttribute("src"))||void 0;r=rc((null===v||void 0===v?void 0:v.getAttribute("srcset"))||void 0);var z=(null===r||void 0===r?void 0:r.length)||1;v=[];for(var A=0;A<z;A++)v.push({url:(null===r||void 0===r?void 0:r[A])||""});p={url:p?p:""};Ra("SelectionSignals",m.selectionSignals,l,k);Ra("AdvertiserIdNS",m.advertiserIdNS,
l,k);if(t){(r=1===a.length||e)||(t=Wa(t),q?((r=y('[data-index="'+n+'"]'))?r=0===r.offsetHeight&&0===r.offsetWidth?!0:!1:(J["default"].log("container Element for ad number "+n+" is not found","WARN","DSA/AdFeedback"),r=!0),r?r=!1:(q=Wa(q),t.left===q.left||t.right===q.right?(r=t.left,(r=r>=q.left&&r<=q.right)||(t=t.right,r=t>=q.left&&t<=q.right),q=r):(r=t.left,(r=r>q.left&&r<q.right)||(t=t.right,r=t>q.left&&t<q.right),q=r),r=q)):r=void 0);if(r){q=f.push;t=m.campaignId;r=m.adId;z=m.title;v={lowResolutionImage:Sa(p),
highResolutionImages:Sa(v)};if(m.selectionSignals){p=m.selectionSignals;switch(p.pastActivity){case "STORE_ONLY":A=1;break;default:A=0}p=w.__assign(w.__assign({},p),{pastActivity:A})}else p=void 0;q.call(f,{campaignId:t,adId:r,adCreativeIndex:n,title:z,adCreativeImage:v,selectionSignals:p,advertiserIdNS:m.advertiserIdNS})}u("adElementPresent_"+l)}else u("adElementMissing"),J["default"].log("adElement is not found: "+JSON.stringify(m),"WARN","DSA/AdFeedback"),u("adElementMissing_"+l)});return f},mb=
function(){B('[data-id="cta"]').forEach(function(a){if(a.parentElement){var c=y('[data-id*="cta-fallback"]',a.parentElement),b=y(".a-truncate",a),e=y(".a-truncate-full",a);b&&e&&(e.clientHeight>b.clientHeight&&c?(c.style.display="block",a.parentElement.removeChild(a)):(c=a.parentElement.getAttribute("aria-hidden"),c&&"false"!==c||(c=a.getAttribute("data-label")||e.innerHTML,a.parentElement.setAttribute("aria-label",c)),(b=y('[data-id*="cta-chevron"]',a))&&!e.hasAttribute("data-chevron")&&(e.setAttribute("data-chevron",
"true"),a=e.innerHTML.split(" "),c=a.pop(),b=b.innerHTML,e.innerHTML="<span>"+a.join(" ")+" </span><span>"+c+"&nbsp;"+b+"</span>")))}})},sc=function(a){var c=x("data-src",a)||"",b=x("data-srcset",a)||"",e=a.cloneNode();e.removeAttribute("data-src");e.removeAttribute("data-srcset");e.removeAttribute("data-lazy");e.srcset=b;e.src=c;a.parentNode&&a.parentNode.insertBefore(e,a);e.onload=function(){a.style.opacity="0";Q.log("LazyLoaded")}},tc=function(){var a=B('[class*="eelModalRoot"]');a&&a.forEach(function(c,
b){var e=x("data-modal-trigger",c),d=x("data-title",c),f=x("data-modal-settings",c);f=JSON.parse(f||"{}");if(e){b="eel-cards-modal-"+b;var h="."+c.className.split(" ")[0],g=Ta["default"].create(b,h,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:d||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});d=ta.setup();f=d.define;d=d.attach;g.once("beforeShow",function(){Y["default"].loadDescendantImagesManually(c)});f("modal-handler-"+e,["click"],
function(){g.show()});f("modal-close-handler-"+e,["click"],function(){g.hide()});f=y('[data-mix-operations="modal-handler-'+e+'"]');e=y('[data-mix-operations="modal-close-handler-'+e+'"]');f&&e&&(d("modalHandler",f),d("modalClose",e))}})},uc=function(a){var c=function(e,d){e={$event:{preventDefault:Y["default"].$.noop,stopPropagation:Y["default"].$.noop},$target:e.getContent().find('[data-a-tab-name="'+d+'"]'),data:{name:"energyEfficiencyTabSet"}};Y["default"].trigger("a:declarative:a-tabs:click",
e)},b=function(e,d){var f=e&&e.$event,h=e&&e.data||{},g=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();e&&f&&h&&g&&d&&(f=d.get(g),f||(Y["default"].on("a:popover:beforeShow:"+g,function(l){var k,m,n;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(m=null===(k=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||void 0===k?void 0:k.parent())||void 0===m?void 0:m.css("min-height",null!==(n=h.modalHeight)&&void 0!==n?n:800),Y["default"].loadDescendantImagesManually(l))}),
f=d.create(e.$target,h)),f&&(f.show(),h.activeTabName&&c(f,h.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(e){Y["default"].declarative("card-energy-efficiency-secondary-view","click",function(d){b(d,e)})})},wc=function(){B("span[data-ad-deal-end-time]").forEach(function(a){var c=x("data-ad-deal-end-time",a);a&&null!==c&&vc(a,c)})},vc=function(a,c){var b=Qa.interval(function(){var e=(new Date(c)).getTime(),d=Date.now();d=Math.floor((e-d)/1E3);
if(0>d)clearInterval(b);else{var f=Math.floor(d/60%60);e=Math.floor(d%60);d=("0"+Math.floor(d/3600%24)).slice(-2);f=("0"+f).slice(-2);e=("0"+e).slice(-2);a.innerText=d+":"+f+":"+e}},1E3)},Ja=function(a,c,b){void 0===b&&(b=xa["default"].cardRoot);for(;a&&a!==b;){if(a.matches(c))return a;a=a.parentElement}return(null===a||void 0===a?0:a.matches(c))?a:null},xc=function(){var a=B("[data-sbelementid]");a.length&&a.forEach(function(c){var b=c.dataset.sbelementid;b&&c.addEventListener("click",function(e){var d=
e.target,f=Ja(d,"a");if(!f)if(b.includes("_asin_")){f=Ja(d,"[data-asin]");if(!f)return;f=y("a",f);if(Ja(d,"button[data-mix-operations]")||!f)return}else return;e.preventDefault();e.stopPropagation();e=e.ctrlKey||e.metaKey;var h=new URL(f.href);h.pathname.endsWith("/")||(h.pathname+="/");h.searchParams.set("_encoding","UTF8");h.searchParams.set("ref_",b);d=y("[data-sbqueryparameters]");d=((null===d||void 0===d?void 0:d.dataset)||{}).sbqueryparameters;if(d=void 0===d?null:d)d=function(g){try{var l=
JSON.parse(g);return"object"!==typeof l||null===l?void 0:l}catch(k){T("Error parsing JSON in enableClickTracking",k)}}(d),Object.entries(d||{}).forEach(function(g){var l=w.__read(g,2);g=l[0];l=l[1];g&&l&&(b.includes("_asin_")?["lp_mat_key","lp_query","lp_slot","lp_page_asin","lp_asins"].includes(g)||h.searchParams.set(g,l):h.searchParams.set(g,l))});d=h.toString();e||"_blank"===f.target?window.open(d,"_blank"):window.location.href=d})})},ha=function(a,c){return a.querySelector("[class*="+c+"]")},
yc=function(a,c,b){a=JSON.parse(a);a.adCreativeMetaData=c.adCreativeMetaData;a.feedbackFormContainerId=b;return encodeURI(JSON.stringify(a))},zc=function(a,c,b,e,d){return w.__awaiter(void 0,void 0,void 0,function(){var f,h,g,l,k,m,n;return w.__generator(this,function(p){f="adFeedbackModal_"+a;p=(null===(n=ha(c,"ad-feedback-modal-container"))||void 0===n?void 0:n.className)||"";h="."+c.className+" ."+p.replace(" ",".");l=(g=b().adCreativeMetaData.adCreativeDetails)?g.length:0;k={a11yOpenMessage:d?
d:"",width:Math.max(560,132*l+160),a11yCloseButtonMessage:e};try{return m=Ta["default"].create(f,h,k),[2,m]}catch(t){throw L.count("adfeedback:cards:clientDesktop:modalCreation:failure",1),Error("Modal Creation Failed : "+t);}})})},Cc=function(a,c,b,e,d,f){var h="rtl"===document.getElementsByTagName("html")[0].dir?"ad-feedback-loading-spinnner-rtl":"ad-feedback-loading-spinnner";var g=ha(F["default"].cardRoot,h);a.on("beforeShow",function(){return w.__awaiter(void 0,void 0,void 0,function(){var l;
return w.__generator(this,function(k){switch(k.label){case 0:return l=Ac(a,c,b),[4,a.render(function(m){var n="250px",p=b().adCreativeMetaData.adCreativeDetails;p&&2>p.length&&(n="150px");g.style.marginTop=n;m.innerHTML="";n=m.appendChild;p=document.getElementsByTagName("html")[0].dir;var t=F["default"].createElement("div"),q=F["default"].createElement("div");t.innerHTML=d;"rtl"===p?(t.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 28px; margin-right: 0px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 0px; padding-right: 25px; padding-top: 16px; text-align: right; text-rendering: optimizelegibility; visibility: visible;'),
q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to left, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: right; visibility: visible; z-index: 10;')):
(t.setAttribute("style",'box-sizing: border-box; color: rgb(15, 17, 17); font-family: "Amazon Ember", Arial, sans-serif; font-size: 16px; font-weight: 700; line-height: 24px; margin-bottom: 0px; margin-left: 0px; margin-right: 28px; margin-top: 0px; min-height: 56px; padding-bottom: 16px; padding-left: 25px; padding-right: 0px; padding-top: 16px; text-align: left; text-rendering: optimizelegibility; visibility: visible;'),q.setAttribute("style",'background-attachment: scroll; background-clip: border-box; background-color: rgb(240, 242, 242); background-image: linear-gradient(to right, #EFEFEF 66.72%, #FFFFFF); background-origin: padding-box; background-position: 0% 0%; background-position-x: 0%; background-position-y: 0%; background-repeat: repeat; background-size: auto; border-bottom-color: rgb(213, 217, 217); border-bottom-left-radius: 0px; border-bottom-right-radius: 0px; border-top-left-radius: 8px; border-top-right-radius: 8px; box-sizing: border-box; color: rgb(15, 17, 17); display: block; font-family: "Amazon Ember", Arial, sans-serif; font-size: 14px; line-height: 20px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 24px; padding-right: 24px; padding-top: 0px; position: relative; text-align: left; visibility: visible; z-index: 10;'));
q.appendChild(t);n.call(m,q);n=document.getElementsByTagName("html")[0].dir;p=F["default"].createElement("div");"rtl"===n?p.setAttribute("style","padding-bottom: 16px; padding-right: 50px ; padding-top: 16px; justify-content: center; align-items: center;"):p.setAttribute("style","padding-bottom: 16px; padding-left: 50px ; padding-top: 16px; justify-content: center; align-items: center;");Bc(g,p,e,l,f);m.appendChild(p)})];case 1:return k.sent(),[2]}})})})},Ac=function(a,c,b){b=b();var e=b.adCreativeMetaData.adCreativeDetails;
null===e||void 0===e?void 0:e.sort(function(d,f){return d.adCreativeIndex<f.adCreativeIndex?-1:1});return yc(c,b,a.id)},Bc=function(a,c,b,e,d){c.appendChild(a);"function"==typeof L.uet&&L.uet("bb","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});Rb["default"].post("/af/multi-creative/feedback-form",{accepts:"application/json",contentType:"application/json",additionalHeaders:{"Accept-Language":""===b?"en-US":b}},{pl:e,deviceType:"desktop"}).then(function(f){return w.__awaiter(void 0,
void 0,void 0,function(){var h,g,l;return w.__generator(this,function(k){"function"==typeof L.uet&&L.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});L.count("adfeedback:cards:clientDesktop:fetchFormContent:success",1);h=F["default"].createElement("div");h.innerHTML=String(f.responseBody);for(g=0;g<h.children.length;++g)l=h.children[g],"SCRIPT"===l.tagName?Ka("script",l,c):"LINK"===l.tagName?Ka("link",l,c):Ka("div",l,c);c.removeChild(a);return[2]})})}).catch(function(){"function"==
typeof L.uet&&L.uet("be","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1});L.count("adfeedback:cards:clientDesktop:fetchFormContent:failure",1);c.innerHTML=d});"function"==typeof L.uex&&L.uex("ld","adfeedback:cards:clientDesktop:fetchFormContent:time",{wb:1})},Ka=function(a,c,b){var e=F["default"].createElement(a);e.innerHTML=c.innerHTML;c.getAttributeNames().forEach(function(d){e.setAttribute(d,c.getAttribute(d)||"")});b.appendChild(e)},nb={},Dc=function(a,c){return w.__awaiter(void 0,
void 0,void 0,function(){var b,e,d,f,h,g,l,k,m,n,p;return w.__generator(this,function(t){b=ha(a,"ad-feedback-primary-link");e=c().adFeedbackLabelId;d=wa["default"].setup();f="open-modal"+e;h=c().adCreativeMetaData.adCreativeDetails;g=a.dataset;l=g.isDsaEnabled;k=g.weblabTreatment;m=g.closeButtonAriaText;n=g.adFeedbackTitle;p=String(l);"undefined"===p&&(p=h&&0<h.length?h[0].selectionSignals?"true":"false":"false");"true"===p&&"T1"!==k&&(p="false");d.attach(f,b);d.define(f,"click",function(){return w.__awaiter(void 0,
void 0,void 0,function(){var q;return w.__generator(this,function(v){switch(v.label){case 0:return(q=nb[e])?[3,2]:[4,zc(e,a,c,m,n)];case 1:q=v.sent();var r=a.dataset,z=r.formHeaderText,A=r.dsaFormHeaderText;Cc(q,r.adFeedbackPayload,c,r.currentLocale,"true"===p?A:z,r.formLoadErrorText);nb[e]=q;v.label=2;case 2:return q.show(),[2]}})})});try{b.addEventListener("keydown",function(q){if(" "===q.key||"Enter"===q.key)q.preventDefault(),b.click()})}catch(q){console.log("Couldnt add keydown event listner")}return[2]})})},
Ec=function(a,c){var b=wa["default"].setup(),e="mouse-enter"+c;c="mouse-leave"+c;var d=ha(a,"ad-feedback-primary-link"),f=ha(a,"ad-feedback-text-desktop"),h=ha(a,"ad-feedback-sprite");b.attach(e,d);b.define(e,"mouseenter",function(){h.style.backgroundPosition="0px -12px";f.style.color="#111111"});b.attach(c,d);b.define(c,"mouseleave",function(){h.style.backgroundPosition="0px 0px";f.style.color="#555"})},la;"VIEWED PROGRESS_5_SEC FIRST_QUARTILE MIDPOINT THIRD_QUARTILE COMPLETE UNMUTE".split(" ");
var Fc="CLICK BackgroundClicked BrandLogoClicked BrandCtaLinkClicked HeadlineClicked ProductClicked VideoClicked".split(" "),X={"basebe.Clicks.6":"basebe.Clicks.6","basebe.Impressions.8":"basebe.Impressions.8","basebe.carousel.1":"basebe.carousel.1"},Gc=(la={},la[X["basebe.Clicks.6"]]="base-be",la[X["basebe.Impressions.8"]]="base-be",la[X["basebe.carousel.1"]]="base-be",la),Hb={"savx:action":"savx:action","savx:deeplinking":"savx:deeplinking"},Db={SPARKLE_RELATED_QUESTION:"SPARKLE_RELATED_QUESTION"},
Eb={INVOKE_NILE_BACKEND_API:"INVOKE_NILE_BACKEND_API",INVOKE_NILE_BACKEND_API_WITH_ASIN:"INVOKE_NILE_BACKEND_API_WITH_ASIN"},Fb={NileAdsSparkleRelatedQuestion:"NileAdsSparkleRelatedQuestion"},Gb={SPARKLE_RELATED_QUESTION:"SPARKLE_RELATED_QUESTION"};(function(a,c,b,e){function d(f){return f instanceof b?f:new b(function(h){h(f)})}return new (b||(b=Promise))(function(f,h){function g(m){try{k(e.next(m))}catch(n){h(n)}}function l(m){try{k(e["throw"](m))}catch(n){h(n)}}function k(m){m.done?f(m.value):
d(m.value).then(g,l)}k((e=e.apply(a,c||[])).next())})});(function(a,c){function b(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=
d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=c.call(a,d)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],
ops:[]},f,h,g,l=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return l.next=b(0),l["throw"]=b(1),l["return"]=b(2),"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l});var oa=function(){oa=Object.assign||function(a){for(var c,b=1,e=arguments.length;b<e;b++){c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return oa.apply(this,arguments)},ma=function(a,c,b,e){function d(f){return f instanceof b?f:new b(function(h){h(f)})}
return new (b||(b=Promise))(function(f,h){function g(m){try{k(e.next(m))}catch(n){h(n)}}function l(m){try{k(e["throw"](m))}catch(n){h(n)}}function k(m){m.done?f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,c||[])).next())})},na=function(a,c){function b(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,
k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=c.call(a,
d)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return l.next=b(0),l["throw"]=b(1),l["return"]=b(2),"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},Bb=function(a,c,b,e){function d(f){return f instanceof b?f:new b(function(h){h(f)})}return new (b||(b=Promise))(function(f,
h){function g(m){try{k(e.next(m))}catch(n){h(n)}}function l(m){try{k(e["throw"](m))}catch(n){h(n)}}function k(m){m.done?f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,c||[])).next())})},Cb=function(a,c){function b(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,
g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=c.call(a,d)}catch(m){k=[6,m],h=0}finally{f=
g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return l.next=b(0),l["throw"]=b(1),l["return"]=b(2),"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},ob=function(){return function(){}}(),Hc=function(){function a(){}a.prototype.logNexusEvent=function(c,b,e,d){var f,h=null===(f=this.getWindow().ue)||
void 0===f?void 0:f.event;h?h(c,b,e,d):this.log("unable to log nexus event due to no window.ue!","ERROR")};a.prototype.logCount=function(c,b,e){var d,f=null===(d=this.getWindow().ue)||void 0===d?void 0:d.count;if(f)return f(c,b,e);this.log("unable to log count due to no window.ue!","ERROR")};a.prototype.getWidgetDimensions=function(){var c,b,e=this.getWindow(),d=e.innerWidth;e=e.innerHeight;var f=null!==(b=null===(c=this.getElement())||void 0===c?void 0:c.getBoundingClientRect())&&void 0!==b?b:{};
c=f.width;b=f.height;return{width:void 0===c?0:c,height:void 0===b?0:b,viewportWidth:d,viewportHeight:e}};return a}(),Ic=function(){function a(c){var b=this;this.eventSequence=this.dictionaryIndex=this.batchSize=0;this.eventsDictionary={};this.eventsQueue=[];this.highPriorityFlushInterval=1E3;this.lowPriorityFlushInterval=1E4;this.reverseEventsDictionary={};this.currentlyFlushing=!1;this.endpoint=c.endpoint;this.strategy=c.strategy;c=this.strategy.getWindow();c.addEventListener("beforeunload",function(){return b.beforeUnload()});
c.addEventListener("blur",function(){return b.beforeUnload()});c.addEventListener("pagehide",function(){return b.beforeUnload()});this.strategy.getDocument().addEventListener("visibilitychange",function(){return b.beforeUnload()});if(c.app){var e=c.app.willDisappear;c.app.willDisappear=function(){e&&e();b.beforeUnload()}}}a.prototype.flush=function(c){var b,e;void 0===c&&(c=!1);this.currentlyFlushing||(this.currentlyFlushing=!0,null!==(e=null===(b=this.eventsQueue)||void 0===b?void 0:b.length)&&void 0!==
e&&e&&(c||this.strategy.getWindow().navigator.onLine?(c=JSON.stringify({cs:{dct:this.reverseEventsDictionary},events:this.eventsQueue}),this.send(c),this.dictionaryIndex=this.batchSize=0,this.eventsDictionary={},this.eventsQueue=[],this.reverseEventsDictionary={},this.highPriorityTimer&&(clearInterval(this.highPriorityTimer),this.highPriorityTimer=0),this.lowPriorityTimer&&(clearInterval(this.lowPriorityTimer),this.lowPriorityTimer=0)):this.strategy.log("Unable to flush due to not forced and not online",
"WARN")),this.currentlyFlushing=!1)};a.prototype.queueEvent=function(c,b){var e=this,d;void 0===b&&(b={highPriority:!0});this.eventSequence+=1;if(1E3<this.eventSequence)return this.strategy.log("Sushi client max calls reached","WARN"),!1;if(!c||Array.isArray(c)||"object"!==typeof c)return this.strategy.log("Invalid data passed to SushiClient queueEvent","WARN"),!1;c.timestamp=this.getCurrentIsoString();c.sequence=this.eventSequence;c.messageId=[null!==(d=c.request_id)&&void 0!==d?d:"undefined",Date.now?
Date.now():(new Date).getTime(),this.eventSequence].join("-");try{var f=JSON.stringify(c)}catch(h){return this.strategy.log(h instanceof Error?h:"unable to stringify event data!","ERROR"),!1}d=f.length;(499===this.eventsQueue.length||524288<this.batchSize+d)&&this.flush(!0);this.batchSize+=d;c={data:this.compressData(c)};this.eventsQueue.push(c);b.highPriority?0===this.highPriorityFlushInterval?this.flush():this.highPriorityTimer||(this.highPriorityTimer=setTimeout(function(){return e.flush()},this.highPriorityFlushInterval,
this,!1)):this.lowPriorityTimer||(this.lowPriorityTimer=setTimeout(function(){return e.flush()},this.lowPriorityFlushInterval,this,!1));return!0};a.prototype.beforeUnload=function(){this.flush()};a.prototype.compressData=function(c){var b=this;if(!c||!this.isEncodable(c))return c;if(Array.isArray(c))return c.map(function(d){return b.compressData(d)});if("object"===typeof c){var e={};Object.entries(c).forEach(function(d){var f=d[0];d=d[1];e[b.encodeValue(f)]=["messageId","timestamp"].includes(f)?d:
b.compressData(d)});return e}switch(typeof c){case "number":case "string":case "symbol":return this.encodeValue(c);default:return this.encodeValue("".concat(c))}};a.prototype.isEncodable=function(c){if(!c||"function"===typeof c)return!1;switch(typeof c){case "boolean":return!1;case "number":return this.isEncodableNumber(c);case "string":return this.isEncodableString(c);default:return!0}};a.prototype.isEncodableNumber=function(c){return!(isNaN(c)||Infinity===c)&&this.isEncodableString(c.toString())};
a.prototype.isEncodableString=function(c){return c.length>("#"+this.dictionaryIndex).length||"#"===c.charAt(0)};a.prototype.encodeValue=function(c){if(this.eventsDictionary[c])return this.eventsDictionary[c];this.dictionaryIndex+=1;var b="".concat("#").concat(this.dictionaryIndex);this.eventsDictionary[c]=b;this.reverseEventsDictionary[b]=c;return b};a.prototype.getCurrentIsoString=function(){var c=new Date;try{return c.toISOString()}catch(b){return"".concat(c.getFullYear(),"-").concat("".concat(c.getMonth()+
1).padStart(2,"0"),"-").concat("".concat(c.getDate()).padStart(2,"0"),"T").concat("".concat(c.getUTCHours()).padStart(2,"0"),":").concat(c.getUTCMinutes(),":").concat(c.getUTCSeconds(),".").concat(String((c.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5),"Z")}};a.prototype.send=function(c){var b;if(!c||"string"!==typeof c)throw Error('invalid payload "'.concat(c,'"!'));var e=this.strategy.getWindow();if(!((null===(b=e.navigator)||void 0===b?0:b.sendBeacon)&&e.navigator.sendBeacon(this.endpoint,c))){if(e.XDomainRequest)b=
new e.XDomainRequest,b.onerror=function(){},b.ontimeout=function(){},b.onprogress=function(){},b.onload=function(){},b.timeout=0;else if(e.XMLHttpRequest){if(b=new e.XMLHttpRequest,!("withCredentials"in b))throw Error("request missing withCredentials!");}else throw Error("unable to construct AJAX request due to no XDomainRequest or XMLHttpRequest!");b.open("POST",this.endpoint,!0);b.setRequestHeader&&b.setRequestHeader("Content-Type","text/plain");b.send(c)}};return a}(),Jc=function(){var a=function(c,
b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(e[f]=d[f])};return a(c,b)};return function(c,b){function e(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}}(),ba=function(){ba=Object.assign||function(a){for(var c,b=
1,e=arguments.length;b<e;b++){c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return ba.apply(this,arguments)},La=function(a,c,b,e){function d(f){return f instanceof b?f:new b(function(h){h(f)})}return new (b||(b=Promise))(function(f,h){function g(m){try{k(e.next(m))}catch(n){h(n)}}function l(m){try{k(e["throw"](m))}catch(n){h(n)}}function k(m){m.done?f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,c||[])).next())})},Ma=function(a,c){function b(k){return function(m){return e([k,
m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=
0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=c.call(a,d)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return l.next=b(0),l["throw"]=
b(1),l["return"]=b(2),"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},Kc={shouldLogViewMetrics:!1},Lc=function(a){function c(b){var e,d,f,h=a.call(this)||this;h.metricsSequenceNumber=0;h.strategy=b.strategy;h.instrumentationPixelUrl=null!==(e=b.instrumentationPixelUrl)&&void 0!==e?e:"";h.metricsOptions=ba(ba({},Kc),b.metricsOptions);h.defaultAttributes=Object.assign({},h.getDefaultAttributes());h.getDeviceMetrics();if(b.sushiClient)h.sushiClient=b.sushiClient;else{var g;
b=h.strategy;var l;e=null===(l=b.getElement('[data-attributelevel="CAMPAIGN"]'))||void 0===l?void 0:l.getAttribute("data-marketplaceid");if(!e)throw Error("unable to get marketplace!");a:switch(e){case "ATVPDKIKX0DER":case "A2EUQ1WTGCTBG2":case "A1AM78C64UM0Y8":case "A3P3J5A7D2ZVXI":case "A2Q3Y263D00KWC":case "AZXD3QD5B39HD":case "A1ZXRLSQW2V54D":case "A1NOHO22DE3OHQ":case "A2WDZJZ5TCRMLH":case "A2IDBVIE7EAGN4":l="NA";break a;case "A1F83G8C2ARO7P":case "A1PA6795UKMFR9":case "A13V1IB3VIYZZH":case "APJ6JRA9NG5V4":case "A3HOBANJMCMD83":case "A1RKKUPIHCS9HS":case "AJZF8LZ1EJVJN":case "ARBP9OOSHTCHU":case "AUJPM9XGFJRC7":case "A21TJRUUN4KGV":case "A2XZLSVIQ0F4JT":case "A1805IZSGTT6HS":case "A1M3WC0SJ3A38T":case "A2VIGQ35RCS4UG":case "A34GYYCZVDBSIK":case "A17E79C6D8DWNP":case "A1MQPSGJ6U9Q54":case "A33AVAJ2PDY3EV":case "A3CQBQD3RGPJR8":case "A1C3SOZRARQ6R3":case "AKY4K4WKH21YQ":case "A2NODRKZP88ZB9":case "AT614YYYNOC1S":case "AMEN7PMS3EDWL":case "A1YFOMBPFBRY22":case "A3OCL2LJ6GDH9T":case "A3PJZM0QIA8QDU":case "AE08WJ6YKNBMC":case "A3TFQ1G9L8TQ5L":case "A28R8C7NBKEWEA":case "AQGJ466SKA0F0":l=
"EU";break a;case "A1VC38T7YXB528":case "A39IBJ37TRP1C6":case "A1RNPCQ4K8U27I":case "A19VAU5U5O7RUS":case "A1DQ6JV7I20JSG":case "AD2EMQ3L3PG8S":case "A38NPJYVS5YHNH":case "AAHKV2X7AFYLW":l="FE";break a;default:throw Error();}b=null===(g=b.getWindow().location)||void 0===g?void 0:g.hostname;g=["localhost","mix.corp.amazon.com","development.amazon.com"].includes(b)||/^[a-z]{2}-development\.amazon\.com$/.test(b)?"beta":/^pre-prod\.amazon\.(com|[a-z]{2})$/.test(b)||/^pre-prod\.amazon\.com?\.[a-z]{2}$/.test(b)||
/^[a-z]{2}-pre-prod\.amazon\.com$/.test(b)?"gamma":"prod";g="https://unagi-".concat(l.toLowerCase(),".amazon.com/1/events/com.amazon.eel.sbv.client.").concat(g,".").concat("NA"===l?"events":l.toLowerCase());h.sushiClient=new Ic({endpoint:g,strategy:h.strategy})}if(h.metricsOptions.shouldLogViewMetrics){h.instrumentationPixelUrl||(h.instrumentationPixelUrl=null!==(f=null===(d=h.strategy.getElement("[data-instrumentationpixelurl]"))||void 0===d?void 0:d.dataset.instrumentationpixelurl)&&void 0!==f?
f:"");if(!h.instrumentationPixelUrl)throw Error("No instrumentation pixel url found for view metrics");h.instrumentationPixelUrl=h.instrumentationPixelUrl.endsWith("/")?h.instrumentationPixelUrl.concat("v/"):h.instrumentationPixelUrl.concat("/v/")}return h}Jc(c,a);c.prototype.logEvent=function(b,e){return La(this,void 0,void 0,function(){var d,f,h,g;return Ma(this,function(l){this.metricsSequenceNumber+=1;d=null===(g=null===(h=this.strategy.getWindow().navigator)||void 0===h?void 0:h.connection)||
void 0===g?void 0:g.type;f=ba(ba(ba(ba({},this.strategy.getWidgetDimensions()),this.defaultAttributes),null!==e&&void 0!==e?e:{}),{eventType:b,metricsSequenceNumber:this.metricsSequenceNumber,networkType:d});this.sushiClient.queueEvent(f);return[2]})})};c.prototype.logViewMetric=function(b,e){return La(this,void 0,void 0,function(){var d,f,h,g,l;return Ma(this,function(k){switch(k.label){case 0:if(!this.metricsOptions.shouldLogViewMetrics)return this.strategy.log("View metrics logging is disabled, skipping logging for event ".concat(b),
"WARN"),[2];d=JSON.stringify(e);k.label=1;case 1:k.trys.push([1,3,,4]);f=this.instrumentationPixelUrl+encodeURI(d);if(!f)throw this.logEvent("ViewMetricsPostFailure",{viewMetricsFailure:b}),Error("No url found for view metrics post");return[4,fetch(f,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:d}).then(function(m){if(!m.ok&&0!==m.status)throw Error(m.status+" "+m.statusText);})];case 2:return k.sent(),[3,4];case 3:return h=k.sent(),this.logEvent("ViewMetricsPostFailure",
{viewMetricsFailure:b,errorMessage:null!==(g=h.message)&&void 0!==g?g:String(h)}),this.strategy.log("view metrics post failure: ".concat(null!==(l=h.message)&&void 0!==l?l:String(h)),"ERROR"),[3,4];case 4:return[2]}})})};c.prototype.getDeviceMetrics=function(){return La(this,void 0,void 0,function(){var b=this;return Ma(this,function(e){return ua(this.strategy)?[2,new Promise(function(d){P.when("A").execute(function(f){b.defaultAttributes.deviceEnv=f.capabilities.isAmazonApp?"app":"web";b.defaultAttributes.deviceType=
f.capabilities.mobile?"mobile":f.capabilities.tablet?"tablet":"desktop";b.defaultAttributes.deviceOs="unrecognized";"desktop"!==b.defaultAttributes.deviceType&&(b.defaultAttributes.deviceOs=f.capabilities.android?"android":f.capabilities.ios?"ios":b.defaultAttributes.deviceOs,"unrecognized"===b.defaultAttributes.deviceOs&&["motorola edge","Moto"].forEach(function(h){navigator.userAgent.includes(h)&&(b.defaultAttributes.deviceOs="android")}));d()})})]:[2]})})};c.prototype.getDefaultAttributes=function(){var b=
this.strategy.getElement('[data-attributelevel="CAMPAIGN"]');if(b){var e=b.dataset;b=e.clientid;var d=e.language,f=e.marketplaceid,h=e.pagenumber,g=e.pagetype,l=e.requestid,k=e.searchquery,m=e.stage,n=e.templatename,p=e.videoorientation,t=e.weblabs,q=e.widgetgroupid;e=e.widgettype;return{deviceEnv:"",deviceOs:"",deviceType:"",clientId:void 0===b?"":b,language:void 0===d?"":d,marketplaceId:void 0===f?"":f,pageNumber:void 0===h?"":h,pageType:void 0===g?"":g,requestId:void 0===l?"":l,searchQuery:void 0===
k?"":k,stage:void 0===m?"":m,templateName:void 0===n?"":n,videoOrientation:void 0===p?"":p,weblabs:void 0===t?"":t,widgetGroupId:void 0===q?"":q,widgetType:void 0===e?"":e}}};return c}(ob),Mc=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(e[f]=d[f])};return a(c,b)};return function(c,b){function e(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+
String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}}(),Na=function(){Na=Object.assign||function(a){for(var c,b=1,e=arguments.length;b<e;b++){c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};return Na.apply(this,arguments)},Nc=function(a,c,b,e){function d(f){return f instanceof b?f:new b(function(h){h(f)})}return new (b||(b=Promise))(function(f,h){function g(m){try{k(e.next(m))}catch(n){h(n)}}
function l(m){try{k(e["throw"](m))}catch(n){h(n)}}function k(m){m.done?f(m.value):d(m.value).then(g,l)}k((e=e.apply(a,c||[])).next())})},Oc=function(a,c){function b(k){return function(m){return e([k,m])}}function e(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(d=0)),d;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return d.label++,
{value:k[1],done:!1};case 5:d.label++;h=k[1];k=[0];continue;case 7:k=d.ops.pop();d.trys.pop();continue;default:if(!(g=d.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){d=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))d.label=k[1];else if(6===k[0]&&d.label<g[1])d.label=g[1],g=k;else if(g&&d.label<g[2])d.label=g[2],d.ops.push(k);else{g[2]&&d.ops.pop();d.trys.pop();continue}}k=c.call(a,d)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var d=
{label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return l.next=b(0),l["throw"]=b(1),l["return"]=b(2),"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},Pc=function(a){function c(b){var e=a.call(this)||this;e.strategy=b.strategy;return e}Mc(c,a);c.prototype.logEvent=function(b,e){return Nc(this,void 0,void 0,function(){var d,f;return Oc(this,function(h){Fc.some(function(g){return g===
b})?d=X["basebe.Clicks.6"]:"IMPRESSION"===b&&(d=X["basebe.Impressions.8"]);if(!d)throw Error('unable to determine nexus schema id for eventType "'.concat(b,'"!'));e=Object.assign(Na({},Ib(this.strategy,d)),e);Jb(d,e)||this.strategy.log('invalid attributes logged to schemaId "'.concat(d,'" for event "').concat(b,'"'),"WARN");f=Gc[d];this.strategy.logNexusEvent(e,f,d,{ssd:!0});return[2]})})};return c}(ob),Qc=function(){function a(c,b){var e=F["default"].cardRoot.ownerDocument.defaultView;if(!e)throw Error("Unable to get window");
this.observer=new e.IntersectionObserver(c,b)}a.prototype.disconnect=function(){this.observer.disconnect()};a.prototype.observe=function(c){c=sa.unscope(c);if(!c)throw Error("Failed to unscope element");this.observer.observe(c)};a.prototype.takeRecords=function(){return this.observer.takeRecords()};a.prototype.unobserve=function(c){c=sa.unscope(c);if(!c)throw Error("Failed to unscope element");this.observer.unobserve(c)};Object.defineProperty(a.prototype,"root",{get:function(){return this.observer.root},
enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"rootMargin",{get:function(){return this.observer.rootMargin},enumerable:!1,configurable:!0});Object.defineProperty(a.prototype,"thresholds",{get:function(){return this.observer.thresholds},enumerable:!1,configurable:!0});return a}(),Nb=function(a){function c(b){var e,d,f=a.call(this)||this;f._define=null!==(e=null===b||void 0===b?void 0:b.defineBrowserOperations)&&void 0!==e?e:ta.setup().define;f._useScopedDom=null!==(d=null===b||
void 0===b?void 0:b.useScopedDom)&&void 0!==d?d:!0;f.metricsManager=f.initializeMetrics(null===b||void 0===b?void 0:b.options);return f}w.__extends(c,a);c.prototype.setOperationProxy=function(b){this.remoteOperationProxy=b};Object.defineProperty(c.prototype,"operationProxy",{get:function(){return this.remoteOperationProxy},enumerable:!1,configurable:!0});Object.defineProperty(c.prototype,"_dom",{get:function(){return this._useScopedDom?xa["default"]:F["default"]},enumerable:!1,configurable:!0});c.prototype.addEventListener=
function(b,e,d){return this._define(b,e,d)};c.prototype.createElement=function(b){return this._dom.createElement(b)};c.prototype.getElement=function(b,e){e=null!==e&&void 0!==e?e:this._dom.cardRoot;b=b?e.querySelector(b):e;return b instanceof HTMLElement?b:void 0};c.prototype.getElements=function(b,e){return Array.from((null!==e&&void 0!==e?e:this._dom.cardRoot).querySelectorAll(b))};c.prototype.log=function(b,e,d){return Pa.log(b,e,null!==d&&void 0!==d?d:"DARE_CARDS")};c.prototype.matchMedia=function(b){return this.getWindow().matchMedia(b)};
c.prototype.getWindow=function(){var b,e,d=null===(b=this._dom.cardRoot.ownerDocument)||void 0===b?void 0:b.defaultView;d||(d=null===(e=F["default"].cardRoot.ownerDocument)||void 0===e?void 0:e.defaultView);if(!d)throw Error("unable to get window");return d};c.prototype.getDocument=function(){var b=this._useScopedDom?F["default"].cardRoot.ownerDocument:this._dom.cardRoot.ownerDocument;if(!b)throw Error("unable to get document");return b};c.prototype.createIntersectionObserver=function(b,e){return this._useScopedDom?
new Qc(b,e):new (this.getWindow().IntersectionObserver)(b,e)};c.prototype.pageMarker=function(b){var e=this;return new Promise(function(d,f){switch(b){case "load":va["default"].pageLoad.then(d).catch(f);break;case "ready":va["default"].pageReady.then(d).catch(f);break;default:e.log('unsupported Cards pageMarker "'.concat(b,'", using AUI!'),"WARN");try{P.when(b).execute(d)}catch(h){f(h instanceof Error?h:'unable to call P.when("'.concat(b,'")!'))}}})};c.prototype.logNexusEvent=function(b,e,d,f){return pa["default"].event(b,
e,d,f)};c.prototype.logCount=function(b,e,d){return pa["default"].count(b,e,d)};c.prototype.initializeMetrics=function(b){var e,d=this.getElement('[data-attributelevel="CAMPAIGN"]');d=(null!==(e=null===d||void 0===d?void 0:d.dataset)&&void 0!==e?e:{}).program;e=void 0===d?"":d;switch(e){case "VIDEO":return new Lc(w.__assign({strategy:this},b));case "CLASSIC":return new Pc({strategy:this});default:this.log('unsupported program "'.concat(e,'", not initializing metrics!'),"WARN")}};return c}(Hc),Rc=
{T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},Sc=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)},Tc=function(a){return function(){return w.__awaiter(void 0,void 0,void 0,function(){var c,b,e,d,f,h,g,l,k,m,n,p,t,q,v,r,z,A,D;return w.__generator(this,function(H){switch(H.label){case 0:return Q.log("Loaded"),c=a||{},b=c.loadAdFeedback,e=c.onLoad,d=c.onInit,f=c.isMobile,h=c.enableAdFeedback,g=c.creativeContainer,
l=c.creativeImageContainer,k=c.bypassAdFeedbackViewportCheck,m=c.renderedAdsCount,d&&d(),[4,va["default"].pageReady];case 1:H.sent();Q.log("Ready");try{var E=y(".sbx-no-js",void 0);E&&E.classList.remove("sbx-no-js");try{var C=B("[data-cid]");C.length?C.forEach(kb):kb()}catch(K){T(K)}try{mb(),qa("resize",mb,void 0)}catch(K){T(K)}try{B('img[data-lazy="true"]').forEach(sc)}catch(K){T(K)}y('[class*="eelModalRoot"]')?tc():y('[data-action*="card-energy-efficiency-"]')&&uc(window.P);var I,M;if(!("-webkit-line-clamp"in
F["default"].cardRoot.ownerDocument.body.style||"lineClamp"in F["default"].cardRoot.ownerDocument.body.style)){var Z=B('[class*="_sbTruncatedTitle_"]');if(Z.length)try{for(var ea=w.__values(Z),V=ea.next();!V.done;V=ea.next()){var G=V.value,aa=parseInt(G.getAttribute("data-totallines")||"1"),W=Math.ceil(parseFloat((null===(M=F["default"].cardRoot.ownerDocument.defaultView)||void 0===M?void 0:M.getComputedStyle(G).lineHeight)||"1.3em"))*aa;if(!(G.scrollHeight<=W)){for(;G.scrollHeight>W;)G.innerText=
G.innerText.slice(0,-1);G.innerText=G.innerText.slice(0,-3);G.innerText+="\u2026"}}}catch(K){var fa={error:K}}finally{try{V&&!V.done&&(I=ea.return)&&I.call(ea)}finally{if(fa)throw fa.error;}}}xc();e&&e();x("data-deal-badge-automated")&&x("data-ad-deal-end-time")&&wc();E=f;if(void 0!==E&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,u((E?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(K){T(K)}}catch(K){T(K)}n=
x("data-ad-feedback-label-id");p=x("data-ad-creative-list");t=x("data-device-type")||"";q=x("data-tabletenv")||"";v=x("data-card-metrics-id")||"";r=x("data-slot")||"";z=ka(v,"creativeLevel");if(!n||!p)return[3,6];H.label=2;case 2:return H.trys.push([2,4,,5]),A=JSON.parse(p),[4,qc(n,A,h,t,q,v,r,g,l,k,m)];case 3:return H.sent(),u("NewAdFeedbackImplementationEnabled_"+z),[3,5];case 4:return D=H.sent(),b&&lb(),T("Failed to generate adFeedback rendering payload: "+D,"DSA/AdFeedback"),u("FallbackToOldAdFeedbackImplementation_"+
z),[3,5];case 5:return[3,7];case 6:b&&lb(),u("FallbackToOldAdFeedbackImplementation_"+z),T("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),H.label=7;case 7:return[2]}})})}}({enableAdFeedback:function(a){return w.__awaiter(void 0,void 0,void 0,function(){var c,b,e,d;return w.__generator(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),c=a(),b=xa["default"].cardRoot.getElementsByClassName("adFeedbackMainComponent_"+c.adFeedbackLabelId)[0],e=b.dataset.isSponsoredLabelActive,
"false"===(e||"false").toLowerCase()?[2]:[4,Ec(b,c.adFeedbackLabelId)];case 1:return f.sent(),[4,Dc(b,a)];case 2:return f.sent(),[3,4];case 3:throw d=f.sent(),L.count("adfeedback:cards:clientDesktop:enableAdFeedback:failure",1),Error("Failed to call enableAdFeedback for desktop client : "+d);case 4:return[2]}})})},loadAdFeedback:!0,onLoad:function(){Q.log("LifestyleOnLoad");var a=pb.setup(["generateEnergyEfficiencyModalContent"]);Mb({operations:a});var c=x("data-lazy-load");c&&Sc(function(){setTimeout(function(){var b=
y("img[data-lifestyle-img]"),e=b&&b.getAttribute("src");if(b&&e){e=e.replace("_QL50_","_QL70_");var d=e.replace,f=window.innerWidth,h=2<=window.devicePixelRatio?2:1,g=405*h;1470<=f?g=507*h:1400<=f?g=468*h:1250<=f&&(g=430*h);e=d.call(e,"_SX405_","_SX"+g+"_");b.setAttribute("src",e);Q.log("LazyLoadLifestyle"+c)}},Rc[c]||0)})},onInit:function(){try{P.when("af").execute(function(){return Q.log("LifestyleAF")})}catch(a){Q.log("LifestyleAFError")}},creativeImageContainer:["container"],isMobile:!1});Oa._operationNames=
["generateEnergyEfficiencyModalContent"];Oa.card=Tc});
